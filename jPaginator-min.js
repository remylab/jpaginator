(function(c){c.fn.jPaginator=function(p){this.length!=1&&c.error("You must use this plugin with a unique element");var a={selectedPage:1,nbPages:100,length:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null},b={realWid:0,curNum:1,infRel:0,cInfMax:0,cInf:0,nbMove:0,isMoving:!1,isLimitL:!1,isLimitR:!1,listenSlider:!0};return this.each(function(){function q(){j(a.selectedPage-
Math.floor((a.length-1)/2));b.listenSlider=!1;l(b.cInf);b.listenSlider=!0;a.onPageClicked&&a.onPageClicked.call(this,d,a.selectedPage)}function j(e){d.find(".paginator_p.selected").removeClass("selected");var e=Math.min(a.nbPages-a.length+1,e),e=Math.max(1,e),k=e-2;d.find(".paginator_p_bloc .paginator_p").each(function(){k+=1;c(this).html(k);a.selectedPage==k&&c(this).addClass("selected")});d.find(".paginator_p_bloc").css("left","-"+b.realWid+"px");b.curNum=e;b.cInf=(e-1)*b.realWid;b.infRel=0}function l(a){var a=
Math.round(a/b.cInfMax*100),k=d.find(".paginator_slider").slider("option","value");a!=k&&d.find(".paginator_slider").slider("option","value",a)}function r(e,d){if(b.listenSlider&&!b.isMoving){var c=d.value,c=Math.min(100,c),c=Math.max(0,c),g=Math.round(b.cInfMax*c/100)-b.cInf;c==100?j(a.nbPages-a.length+1):c==0?j(1):h(g)}}function h(e){var c=b.infRel+e,f=Math.abs(e)/e*Math.floor(Math.abs(c)/b.realWid);c%=b.realWid;b.infRel=c;var g=(b.curNum-1)*b.realWid+b.infRel,h=b.curNum+f;h<1&&(g=-1);h>a.nbPages&&
(g=b.cInfMax+1);g<0?(j(1),b.cInf=0,b.infRel=0,l(0),b.isLimitL=!0,m()):g>b.cInfMax?(j(a.nbPages),b.cInf=b.cInfMax,b.infRel=0,l(b.cInfMax),b.isLimitR=!0,m()):(b.isLimitL=!1,b.isLimitR=!1,b.cInf=g,e!=0&&(f!=0&&j(h),l(b.cInf),d.find(".paginator_p_bloc").css("left",-1*c-b.realWid+"px")))}function m(){b.nbMove=0;b.isMoving=!1}function n(a){if(!(b.isLimitR&&a=="right")&&!(b.isLimitL&&a=="left")){var c=Math.round(b.cInfMax/10);a=="left"&&(c*=-1);h(c);setTimeout(function(){b.nbMove+=1;n(a)},20)}}function o(c){if(b.isMoving){var d=
Math.min(Math.abs(a.speed),5),f=Math.min(Math.abs(a.coeffAcceleration),5);a.withAcceleration&&(d=Math.round(d+Math.round(f*b.nbMove*b.nbMove/8E4)));c=="left"&&(d*=-1);h(d);setTimeout(function(){b.nbMove+=1;o(c)},10)}}var d=c(this);p&&c.extend(a,p);for(i=1;i<=a.length+2;i++)d.find(".paginator_p_bloc").append(c("<div class='paginator_p'></div>"));a.length=Math.min(a.length,a.nbPages);a.nbPages<=a.length&&(d.find(".paginator_slider").hide(),d.find(".paginator_slider").children().hide());if(Math.ceil(a.nbPages/
a.length)<a.minSlidesForSlider)a.withSlider=!1;a.withSlider||(d.find(".paginator_slider").hide(),d.find(".paginator_slider").children().hide());var f=0,s=d.find(".paginator_p").first().css("border-left-width");s.indexOf("px")>0&&(f=s.replace("px","")*1);b.realWid=a.widthPx+a.marginPx*2+f*2;f=1*b.realWid*a.length;d.find(".paginator_p").css("width",a.widthPx+"px");d.find(".paginator_p").css("margin","0 "+a.marginPx+"px 0 "+a.marginPx+"px");d.find(".paginator_p_wrap").css("width",f+"px");d.find(".paginator_slider").css("width",
f+"px");b.cInfMax=a.nbPages*b.realWid-a.length*b.realWid;a.selectedPage=Math.min(a.selectedPage,a.nbPages);q(d);d.find(".paginator_p").bind("click.jPaginator",function(){var b=1*c(this).html();d.find(".paginator_p.selected").removeClass("selected");a.selectedPage=b;q()});a.withSlider&&(d.find(".paginator_slider").slider({animate:!1}),d.find(".paginator_slider").bind("slidechange.jPaginator",function(a,b){return r(a,b)}),d.find(".paginator_slider").bind("slide.jPaginator",function(a,b){return r(a,
b)}));a.overBtnLeft&&c(a.overBtnLeft).bind("mouseenter.jPaginator",function(){c(this);b.isMoving=!0;o("left")});a.overBtnRight&&c(a.overBtnRight).bind("mouseenter.jPaginator",function(){c(this);b.isMoving=!0;o("right")});a.overBtnLeft&&c(a.overBtnLeft).bind("mouseleave.jPaginator",function(){c(this);m()});a.overBtnRight&&c(a.overBtnRight).bind("mouseleave.jPaginator",function(){c(this);m()});a.maxBtnLeft&&c(a.maxBtnLeft).bind("click.jPaginator",function(){return n("left")});a.maxBtnRight&&c(a.maxBtnRight).bind("click.jPaginator",
function(){return n("right")});d.find(".paginator_p").bind("mouseenter.jPaginator",function(){var a=c(this);d.find(".paginator_p.over").removeClass("over");a.addClass("over")});d.find(".paginator_p").bind("mouseleave.jPaginator",function(){c(this);d.find(".paginator_p.over").removeClass("over")})})}})(jQuery);